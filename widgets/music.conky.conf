--[[
  ${CONKY_SUITE_DIR:-~/.config/conky/gtex62-tech-hud}/widgets/music.conky.conf
  Music + lyrics panel

  • Uses theme.lua for layout/colors (theme.music).
  • Uses lua/widgets/music.lua for drawing.
  • External tools: playerctl (metadata/status), curl (cover/lyrics), getent (offline check).
]]

local HOME      = os.getenv("HOME") or ""
local SUITE_DIR = os.getenv("CONKY_SUITE_DIR") or (HOME .. "/.config/conky/gtex62-tech-hud")
local theme     = dofile(SUITE_DIR .. "/theme.lua")
local pos       = theme.layout_pos("music")

conky.config    = {
  alignment              = 'top_left',
  xinerama_head          = theme.monitor_head,
  background             = false,
  double_buffer          = true,
  update_interval        = 1,

  use_xft                = true,

  own_window             = true,
  own_window_type        = 'desktop',
  own_window_hints       = 'undecorated,sticky,skip_taskbar,skip_pager,below',
  own_window_argb_visual = true,
  own_window_argb_value  = 0,
  own_window_transparent = true,
  own_window_class       = 'Conky',

  minimum_width          = theme.layout_dim("music", "min_w", 560),
  maximum_width          = theme.layout_dim("music", "max_w", 560),
  minimum_height         = theme.layout_dim("music", "min_h", 1100),
  text_buffer_size       = 65536,

  gap_x                  = pos.x,
  gap_y                  = pos.y,

  draw_shades            = false,
  draw_borders           = false,
  default_color          = 'C0C0C0',
  color1                 = '808080',

  lua_load               = SUITE_DIR .. "/lua/widgets/music.lua",
  lua_draw_hook_pre      = 'draw_music_widget',
}

conky.text      = [[
]]
